{% extends "base.html" %}

{% block title %}Manager Dashboard{% endblock %}

{% block content %}
<h2>Welcome, Manager {{ user.username }}</h2>
<p>Pending Leave Approvals:</p>
<ul>
    {% for leave in pending_leaves %}
    <li>
        User: {{ leave.user__username }}, Start: {{ leave.start_date }}, End: {{ leave.end_date }}, Reason: {{ leave.reason }}
        <form method="post" action="{% url 'api-leave-approvals' %}">
            {% csrf_token %}
            <input type="hidden" name="leave_id" value="{{ leave.id }}">
            <button type="submit" name="action" value="approve">Approve</button>
            <button type="submit" name="action" value="reject">Reject</button>
        </form>
    </li>
    {% empty %}
    <li>No pending leave requests.</li>
    {% endfor %}
</ul>
{% endblock %}
